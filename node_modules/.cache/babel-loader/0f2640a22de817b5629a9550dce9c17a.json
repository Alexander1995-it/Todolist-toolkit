{"ast":null,"code":"var _jsxFileName = \"E:\\\\IT-Incubator\\\\Todolist-toolkit\\\\src\\\\components\\\\TodoList\\\\TodoList.tsx\";\nimport React, { useEffect } from 'react';\nimport AddItemForm from \"../../common/AddItemForm/AddItemForm\";\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport style from '../../components/TodoList/TodoList.module.css';\nimport { changeFilterAC, deleteTodolistsTC } from \"../../reducers/todoListsReducer\";\nimport { createTaskTC, fetchTasksTC } from \"../../reducers/tasksReducer\";\nimport Task from \"../Task/Task\";\nimport { useAppDispatch, useAppSelector } from \"../../common/hooks/hooks\";\nimport { TaskStatuses } from \"../../api/todolistsApi\";\nimport { Button } from \"@mui/material\";\nexport const TodoList = props => {\n  let dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(fetchTasksTC(props.todoList.id));\n  }, []);\n  let tasks = useAppSelector(state => state.tasks[props.todoList.id]); //handlerFilter\n\n  const onAllClickHandler = () => dispatch(changeFilterAC(props.todoList.id, \"all\"));\n\n  const onActiveClickHandler = () => dispatch(changeFilterAC(props.todoList.id, \"active\"));\n\n  const onCompletedClickHandler = () => dispatch(changeFilterAC(props.todoList.id, \"completed\"));\n\n  const onClickDeleteTodoList = () => dispatch(deleteTodolistsTC(props.todoList.id));\n\n  const addTaskHandler = newTitle => {\n    dispatch(createTaskTC(props.todoList.id, newTitle));\n  };\n\n  if (props.todoList.filter === \"active\") {\n    tasks = tasks.filter(t => t.status === TaskStatuses.New);\n  }\n\n  if (props.todoList.filter === \"completed\") {\n    tasks = tasks.filter(t => t.status === TaskStatuses.Completed);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: style.todoListBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: style.title__delete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, props.title), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: onClickDeleteTodoList,\n    disabled: props.todoList.entityStatus === 'loading',\n    \"aria-label\": \"delete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AddItemForm, {\n    label: \"Add task\",\n    disabled: props.todoList.entityStatus === 'loading',\n    callBack: addTaskHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: style.listTodo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, tasks.map(t => /*#__PURE__*/React.createElement(Task, {\n    key: t.id,\n    task: t,\n    todolistId: props.todoList.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 32\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: props.todoList.filter === 'all' ? \"contained\" : \"text\",\n    color: \"success\",\n    onClick: onAllClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"All\"), /*#__PURE__*/React.createElement(Button, {\n    variant: props.todoList.filter === 'active' ? \"contained\" : \"text\",\n    color: \"secondary\",\n    onClick: onActiveClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Active\"), /*#__PURE__*/React.createElement(Button, {\n    variant: props.todoList.filter === 'completed' ? \"contained\" : \"text\",\n    color: \"error\",\n    onClick: onCompletedClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Completed\")));\n};","map":{"version":3,"names":["React","useEffect","AddItemForm","IconButton","DeleteIcon","style","changeFilterAC","deleteTodolistsTC","createTaskTC","fetchTasksTC","Task","useAppDispatch","useAppSelector","TaskStatuses","Button","TodoList","props","dispatch","todoList","id","tasks","state","onAllClickHandler","onActiveClickHandler","onCompletedClickHandler","onClickDeleteTodoList","addTaskHandler","newTitle","filter","t","status","New","Completed","todoListBlock","title__delete","title","entityStatus","listTodo","map"],"sources":["E:/IT-Incubator/Todolist-toolkit/src/components/TodoList/TodoList.tsx"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport AddItemForm from \"../../common/AddItemForm/AddItemForm\";\r\nimport IconButton from '@mui/material/IconButton';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport style from '../../components/TodoList/TodoList.module.css'\r\nimport {changeFilterAC, deleteTodolistsTC, TodolistDomainType} from \"../../reducers/todoListsReducer\";\r\nimport {createTaskTC, fetchTasksTC} from \"../../reducers/tasksReducer\";\r\nimport Task from \"../Task/Task\";\r\nimport {useAppDispatch, useAppSelector} from \"../../common/hooks/hooks\";\r\nimport {TaskStatuses, TaskType} from \"../../api/todolistsApi\";\r\nimport {Button} from \"@mui/material\";\r\n\r\n\r\ntype PropsType = {\r\n    todoList: TodolistDomainType\r\n    title: string\r\n}\r\n\r\nexport const TodoList = (props: PropsType) => {\r\n\r\n    let dispatch = useAppDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchTasksTC(props.todoList.id))\r\n    }, [])\r\n    let tasks = useAppSelector<TaskType[]>(state => state.tasks[props.todoList.id])\r\n\r\n//handlerFilter\r\n    const onAllClickHandler = () => dispatch(changeFilterAC(props.todoList.id, \"all\"));\r\n    const onActiveClickHandler = () => dispatch(changeFilterAC(props.todoList.id, \"active\"));\r\n    const onCompletedClickHandler = () => dispatch(changeFilterAC(props.todoList.id, \"completed\"));\r\n\r\n    const onClickDeleteTodoList = () => dispatch(deleteTodolistsTC(props.todoList.id))\r\n\r\n    const addTaskHandler = (newTitle: string) => {\r\n        dispatch(createTaskTC(props.todoList.id, newTitle))\r\n    }\r\n\r\n    if (props.todoList.filter === \"active\") {\r\n        tasks = tasks.filter(t => t.status === TaskStatuses.New);\r\n    }\r\n    if (props.todoList.filter === \"completed\") {\r\n        tasks = tasks.filter(t => t.status === TaskStatuses.Completed);\r\n    }\r\n    return <div className={style.todoListBlock}>\r\n        <div className={style.title__delete}>\r\n            <h3>{props.title}</h3>\r\n            <IconButton\r\n                onClick={onClickDeleteTodoList}\r\n                disabled={props.todoList.entityStatus === 'loading'}\r\n                aria-label=\"delete\">\r\n                <DeleteIcon/>\r\n            </IconButton>\r\n        </div>\r\n        <div>\r\n            <AddItemForm label='Add task' disabled={props.todoList.entityStatus === 'loading'}\r\n                         callBack={addTaskHandler}/>\r\n        </div>\r\n        <ul className={style.listTodo}>\r\n            {\r\n                tasks.map(t => <Task key={t.id} task={t} todolistId={props.todoList.id}/>)\r\n            }\r\n        </ul>\r\n        <div>\r\n\r\n            <Button variant={props.todoList.filter === 'all' ? \"contained\" : \"text\"} color=\"success\"\r\n                    onClick={onAllClickHandler}>All</Button>\r\n            <Button variant={props.todoList.filter === 'active' ? \"contained\" : \"text\"} color=\"secondary\"\r\n                    onClick={onActiveClickHandler}>Active</Button>\r\n            <Button variant={props.todoList.filter === 'completed' ? \"contained\" : \"text\"} color=\"error\"\r\n                    onClick={onCompletedClickHandler}>Completed</Button>\r\n\r\n        </div>\r\n    </div>\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}